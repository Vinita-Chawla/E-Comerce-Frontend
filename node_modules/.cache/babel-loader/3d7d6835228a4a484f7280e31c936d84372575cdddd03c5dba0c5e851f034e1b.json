{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{useNavigate,Link}from\"react-router-dom\";import{toast}from'react-toastify';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){const[email,setEmail]=useState();const[password,setPassword]=useState();const navigate=useNavigate();useEffect(()=>{let auth=localStorage.getItem(\"user\");if(auth){navigate(\"/\");}},[]);const handleData=async()=>{let formdata=new FormData();formdata.append(\"email\",email);formdata.append(\"password\",password);let response=await axios.post(\"https://e-comerce-backend-git-main-vanita-chawlas-projects.vercel.app/auth/login\",formdata);console.log(response);if(response.data.result){toast.error(\"Please enter correct details!\");}else{localStorage.setItem(\"user\",JSON.stringify(response.data.user));toast.success(\"Login Successfull!\");setTimeout(()=>{navigate(\"/\");},1000);}setEmail(\"\");setPassword(\"\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"mt-[8rem] flex flex-col justify-center gap-[1rem] max-w-[30rem] mx-auto\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-[1.5rem] font-semibold text-[#000]\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Already have an account? Login in or \\xA0 \",/*#__PURE__*/_jsx(Link,{className:\"text-[#FF5252] font-semibold\",to:\"/signup\",children:\"Sign Up\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex flex-col items-center gap-[1rem]\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter Email\",className:\"w-full py-[0.6rem] px-[1rem] border-solid border-[1px] border-black rounded\",onChange:e=>setEmail(e.target.value),value:email}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Enter Password\",className:\"w-full py-[0.6rem] px-[1rem] border-solid border-[1px] border-black rounded\",onChange:e=>setPassword(e.target.value),value:password}),/*#__PURE__*/_jsx(\"button\",{className:\"px-[1.5rem] py-[0.4rem] bg-[#FF5252] rounded mt-[1rem] text-white\",onClick:handleData,children:\"Login\"})]})]});}export default Login;","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","Link","toast","jsx","_jsx","jsxs","_jsxs","Login","email","setEmail","password","setPassword","navigate","auth","localStorage","getItem","handleData","formdata","FormData","append","response","post","console","log","data","result","error","setItem","JSON","stringify","user","success","setTimeout","className","children","to","type","placeholder","onChange","e","target","value","onClick"],"sources":["D:/Node.js/e-comm/frontend/src/components/Login.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios';\r\nimport {useNavigate,Link} from \"react-router-dom\";\r\nimport { toast } from 'react-toastify'\r\n\r\nfunction Login() {\r\n  const [email,setEmail] = useState();\r\n  const [password, setPassword] = useState();\r\n\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(()=>{\r\n    let auth = localStorage.getItem(\"user\");\r\n    if(auth){\r\n      navigate(\"/\")\r\n    }\r\n  },[])\r\n\r\n  const handleData = async()=>{\r\n    let formdata = new FormData();\r\n    formdata.append(\"email\",email)\r\n    formdata.append(\"password\",password);\r\n   \r\n    let response = await axios.post(\"https://e-comerce-backend-git-main-vanita-chawlas-projects.vercel.app/auth/login\", formdata);\r\n    console.log(response)\r\n   \r\n    if(response.data.result){\r\n      toast.error(\"Please enter correct details!\")\r\n\r\n    }\r\n    else{\r\n      localStorage.setItem(\"user\", JSON.stringify(response.data.user));\r\n      toast.success(\"Login Successfull!\")\r\n      setTimeout(() => {\r\n        navigate(\"/\")\r\n      }, 1000);\r\n     \r\n    }\r\n    \r\n      setEmail(\"\"); setPassword(\"\");\r\n  \r\n  }\r\n\r\n  return (\r\n    <div className='mt-[8rem] flex flex-col justify-center gap-[1rem] max-w-[30rem] mx-auto'>\r\n      <h2 className='mb-[1.5rem] font-semibold text-[#000]'>Login</h2>\r\n\r\n      <p>\r\n          Already have an account? Login in or \r\n          &nbsp; <Link className='text-[#FF5252] font-semibold' to=\"/signup\">Sign Up</Link>\r\n        </p>\r\n\r\n      <div className='w-full flex flex-col items-center gap-[1rem]'>\r\n\r\n      <input type='text' placeholder='Enter Email' className='w-full py-[0.6rem] px-[1rem] border-solid border-[1px] border-black rounded' onChange={(e)=>setEmail(e.target.value)} value={email}/>\r\n\r\n      <input type='password' placeholder='Enter Password' className='w-full py-[0.6rem] px-[1rem] border-solid border-[1px] border-black rounded' onChange={(e)=>setPassword(e.target.value)} value={password}/>\r\n\r\n      <button className='px-[1.5rem] py-[0.4rem] bg-[#FF5252] rounded mt-[1rem] text-white' onClick={handleData}>Login</button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}