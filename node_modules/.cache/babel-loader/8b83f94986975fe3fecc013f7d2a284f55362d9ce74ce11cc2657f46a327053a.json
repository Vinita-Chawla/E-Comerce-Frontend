{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useDispatch}from\"react-redux\";import{fetchItems}from\"../store/slices/itemSlice\";import{useSelector}from\"react-redux\";import{addToCart}from\"../store/slices/cartSlice\";import{useNavigate}from\"react-router-dom\";import{toast}from'react-toastify';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Products(props){const dispatch=useDispatch();const[items,setItems]=useState();const state=useSelector(state=>state);const searchTerm=props.searchTerm;const navigate=useNavigate();useEffect(()=>{getItems();},[]);const getItems=async()=>{const fetchres=await dispatch(fetchItems());if(fetchItems.fulfilled.match(fetchres)){setItems(prev=>{return fetchres.payload;});}else if(fetchItems.rejected.match(fetchres)){return\"Error in fetching data\";}};const itemAddedToCart=item=>{dispatch(addToCart(item));// toast.success(`Item added to cart!`)\n};const filteredItems=items===null||items===void 0?void 0:items.filter(item=>{var _item$title;if(searchTerm===\"\"||searchTerm===undefined){return item;}else if(item!==null&&item!==void 0&&(_item$title=item.title)!==null&&_item$title!==void 0&&_item$title.toLowerCase().includes(searchTerm===null||searchTerm===void 0?void 0:searchTerm.toLowerCase()))return item;});return/*#__PURE__*/_jsxs(\"div\",{className:\"mt-[8rem] w-[90%] mx-auto flex items-center flex-col\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center my-[3rem] text-[#000] font-bold text-[1.8rem]\",children:\"Our Products\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4 mx-auto\",children:state.items.isLoading?/*#__PURE__*/_jsx(\"h1\",{children:\"Loading....\"}):filteredItems===null||filteredItems===void 0?void 0:filteredItems.map((item,index)=>{return/*#__PURE__*/_jsxs(\"div\",{id:item.id,className:\"flex items-center flex-col gap-[0.6rem] w-[250px] bg-[#D0B8A8] rounded\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"w-[230px] h-[250px] mt-[0.7rem] rounded cursor-pointer\",src:item.image,alt:\"\",onClick:()=>navigate(\"/product?id=\".concat(item.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-[0.7rem] text-white mb-[0.7rem]\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-[0.9rem] w-[220px]\",children:item.title}),/*#__PURE__*/_jsxs(\"p\",{children:[\"$\",item.price]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Category: \",item.category]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-[0.3rem] justify-end mt-[0.5rem]\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bx bx-shopping-bag cursor-pointer text-[#ff5252] bg-white px-[6px] py-[6px] rounded-[50%] text-[1.5rem]\",onClick:()=>itemAddedToCart(item)})})]})]},index);})})]});}export default Products;","map":{"version":3,"names":["React","useEffect","useState","useDispatch","fetchItems","useSelector","addToCart","useNavigate","toast","jsx","_jsx","jsxs","_jsxs","Products","props","dispatch","items","setItems","state","searchTerm","navigate","getItems","fetchres","fulfilled","match","prev","payload","rejected","itemAddedToCart","item","filteredItems","filter","_item$title","undefined","title","toLowerCase","includes","className","children","isLoading","map","index","id","src","image","alt","onClick","concat","price","category"],"sources":["D:/Node.js/e-comm/frontend/src/pages/Products.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { fetchItems } from \"../store/slices/itemSlice\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { addToCart } from \"../store/slices/cartSlice\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { toast } from 'react-toastify'\r\n\r\nfunction Products(props) {\r\n  const dispatch = useDispatch();\r\n  const [items, setItems] = useState();\r\n  const state = useSelector((state) => state);\r\n  const searchTerm = props.searchTerm;\r\n\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    getItems();\r\n  }, []);\r\n\r\n  const getItems = async () => {\r\n    const fetchres = await dispatch(fetchItems());\r\n    if (fetchItems.fulfilled.match(fetchres)) {\r\n      setItems((prev) => {\r\n        return fetchres.payload;\r\n      });\r\n    } else if (fetchItems.rejected.match(fetchres)) {\r\n      return \"Error in fetching data\";\r\n    }\r\n  };\r\n\r\n  const itemAddedToCart = (item) => {\r\n    dispatch(addToCart(item));\r\n    // toast.success(`Item added to cart!`)\r\n  };\r\n\r\n  const filteredItems = items?.filter((item) => {\r\n    if (searchTerm === \"\" || searchTerm === undefined) {\r\n      return item;\r\n    } \r\n    else if (item?.title?.toLowerCase().includes(searchTerm?.toLowerCase()))\r\n      return item;\r\n  });\r\n\r\n  return (\r\n    <div className=\"mt-[8rem] w-[90%] mx-auto flex items-center flex-col\">\r\n      <h1 className=\"text-center my-[3rem] text-[#000] font-bold text-[1.8rem]\">\r\n        Our Products\r\n      </h1>\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4 mx-auto\">\r\n        {state.items.isLoading ? (\r\n          <h1>Loading....</h1>\r\n        ) : (\r\n          filteredItems?.map((item, index) => {\r\n            return (\r\n              <div\r\n                id={item.id}\r\n                key={index}\r\n                className=\"flex items-center flex-col gap-[0.6rem] w-[250px] bg-[#D0B8A8] rounded\"\r\n              >\r\n                <img\r\n                  className=\"w-[230px] h-[250px] mt-[0.7rem] rounded cursor-pointer\"\r\n                  src={item.image}\r\n                  alt=\"\"\r\n                  onClick = {()=> navigate(`/product?id=${item.id}`)}\r\n                />\r\n                <div className=\"px-[0.7rem] text-white mb-[0.7rem]\">\r\n                  <h1 className=\"text-[0.9rem] w-[220px]\">{item.title}</h1>\r\n                  <p>${item.price}</p>\r\n                  <p>Category: {item.category}</p>\r\n                  <div className=\"flex gap-[0.3rem] justify-end mt-[0.5rem]\">\r\n                    <i\r\n                      className=\"bx bx-shopping-bag cursor-pointer text-[#ff5252] bg-white px-[6px] py-[6px] rounded-[50%] text-[1.5rem]\"\r\n                      onClick={() => itemAddedToCart(item)}\r\n                    ></i>\r\n                    {/* <i className=\"fa fa-heart cursor-pointer text-[#ff5252] bg-white px-[6px] py-[6px] rounded-[50%] text-[1.2rem]\"></i> */}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Products;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}